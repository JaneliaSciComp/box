#!/usr/bin/bash

# Set up the Perl libraries path env var
bash_source_0=${BASH_SOURCE[0]}
this_script_file_path=$(realpath ${bash_source_0})
pipeline_bin_folder_path=$(dirname "$this_script_file_path")
informatics_pipeline_root_path=$( dirname "$pipeline_bin_folder_path" )
box_root_path=$( dirname "$informatics_pipeline_root_path" )
printf "In pipeline, box_root_path: $box_root_path\n"
our_perl5_root_folder_path="${box_root_path}/local/perl5"
printf "In pipeline, our_perl5_root_folder_path: $our_perl5_root_folder_path\n"
PERL5LIB="${our_perl5_root_folder}/lib/perl5/site_perl/5.8.5:${our_perl5_root_folder}/lib64/perl5/site_perl/5.8.5/x86_64-linux-thread-multi"
printf "In pipeline, PERL5LIB: ${PERL5LIB}\n"
export PERL5LIB

# Call the pipeline Perl script, passing in the args to this script
"${pipeline_bin_folder_path}/pipeline.pl" "$@"
